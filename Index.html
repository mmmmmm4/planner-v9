<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Planner v9</title>
  <link rel="stylesheet" href="style.css">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#001f3f"/>
</head>
<body>
  <header class="topbar">
    <div class="quick">
      <input id="quick-input" placeholder="Schnell: Aufgabe / Termin / Ziel" autocomplete="off"/>
      <select id="quick-type"><option value="task">Aufgabe</option><option value="event">Termin</option><option value="goal">Ziel</option></select>
      <input id="quick-date" type="date">
      <input id="quick-time" type="time">
      <input id="quick-dur" type="number" placeholder="Min" style="width:72px">
      <select id="quick-prio"><option value="high">Hoch</option><option value="medium" selected>Mittel</option><option value="low">Niedrig</option></select>
      <button id="quick-add">➕</button>
    </div>
    <div class="status">
      <div id="date-line"></div>
      <div id="profile-line">Level <span id="level">1</span> • <span id="xp">0</span> XP</div>
    </div>
  </header>

  <nav class="tabs">
    <button data-tab="calendar" class="active">Kalender</button>
    <button data-tab="tasks">Aufgaben</button>
    <button data-tab="goals">Ziele</button>
    <button data-tab="overview">Übersicht</button>
    <button data-tab="profile">Profil</button>
  </nav>

  <main>
    <section id="calendar" class="view">
      <div class="controls">
        <button data-mode="day">Tag</button>
        <button data-mode="week" class="active">Woche</button>
        <button data-mode="month">Monat</button>
        <button data-mode="year">Jahr</button>
        <button id="today">Heute</button>
        <select id="intensity"><option value="low">Locker</option><option value="normal" selected>Normal</option><option value="high">Fokus</option></select>
      </div>
      <div id="calendar-area" aria-live="polite"></div>
      <aside id="side"><h3 id="side-date">Heute</h3><ul id="side-list"></ul></aside>
    </section>

    <section id="tasks" class="view hidden">
      <h2>Aufgaben</h2>
      <div class="form">
        <input id="task-text" placeholder="Aufgabe">
        <input id="task-date" type="date">
        <input id="task-time" type="time">
        <input id="task-dur" type="number" placeholder="Dauer (min)" style="width:110px">
        <select id="task-prio"><option value="high">Hoch</option><option value="medium" selected>Mittel</option><option value="low">Niedrig</option></select>
        <button id="add-task">Hinzufügen</button>
      </div>
      <ul id="task-list"></ul>
    </section>

    <section id="goals" class="view hidden">
      <h2>Ziele</h2>
      <div class="form">
        <input id="goal-text" placeholder="Großes Ziel">
        <input id="goal-deadline" type="date">
        <input id="goal-hours" type="number" placeholder="Std/Woche" style="width:110px">
        <select id="goal-theme"><option value="general">Allgemein</option><option value="fitness">Fitness</option><option value="career">Karriere</option><option value="language">Sprache</option></select>
        <button id="add-goal">Ziel erstellen</button>
      </div>
      <div id="goals-list"></div>
    </section>

    <section id="overview" class="view hidden">
      <h2>Übersicht</h2>
      <div id="bars" class="chart-bars"></div>
      <div id="pie" class="chart-pie"></div>
      <div id="tree"></div>
    </section>

    <section id="profile" class="view hidden">
      <h2>Profil</h2>
      <div id="profile-info"></div>
      <button id="reset">Reset</button>
    </section>
  </main>

  <!-- Intro modal -->
  <div id="intro" class="intro-hidden" role="dialog" aria-modal="true"></div>

  <!-- Debug overlay -->
  <div id="debug-overlay" class="debug-hidden">
    <div id="debug-header">
      <span>Debug</span>
      <button id="debug-toggle">Hide</button>
      <button id="sw-unreg">Unreg SW</button>
      <button id="clear-cache">Clear Cache</button>
    </div>
    <pre id="debug-log"></pre>
  </div>

  <div id="toast" class="hidden" role="status" aria-live="polite"></div>
  <div id="dialog" class="hidden" role="dialog" aria-modal="true"><div id="dlg-content"></div><div id="dlg-actions"></div></div>

  <script src="app.js"></script>
</body>
</html>
